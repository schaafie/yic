<html>
    <head>
    </head>
    <body>
        TEST
    </body>
    <script type="module">
        import YicDatamodel from "./yic-datamodel.js";

        var object = {id:1, name:"dummy", versions: [ 
            {version: 1, definition:{name:"tempate1",type:"detail",form:"<div></div>"} },
            {version: 2, definition:{name:"tempate5",type:"overview",form:"<ul></ul>"} } 
        ]};

        var object2 = [ 
            {versions: 1, definition:{name:"tempate1",type:"detail",form:"<div></div>"} },
            {versions: 2, definition:{name:"tempate5",type:"overview",form:"<ul></ul>"} } 
        ];

        var model1 = new YicDatamodel(object, {});
        console.log(model1.getValue('versions.row_1.definition'));
        console.log(model1.getValue('versions'));
        console.log(model1.getValue('versions.row_1.definition.form'));
        model1.setValue('versions.row_1.definition.form', '<test></test>');
        console.log(model1.getValue('versions.row_1.definition.form'));
        console.log(JSON.stringify(model1.model));
        console.log(JSON.stringify(model1.getJson()));


        var model2 = new YicDatamodel(object2, {});
        console.log(model2.getValue());
        console.log(model2.getValue("row_0.versions"));

        console.log(JSON.stringify(model2.model));
        console.log(JSON.stringify(model2.getJson()));

        var t_obj = { name:"root",type:"object", items:[
            {name:"id", type:"number", value:1},
            {name:"name", type:"string", value:"dummy"},
            {name: "version", type: "array", items: [
                { name:"row_1", type:"object", items: [
                    {name:"name", type:"string", value: "template1"},
                    {name:"type", type:"string", value: "detail"},
                    {name:"form", type:"string", value: "<div></div>"}
                ]},
                { name:"row_2", type:"object", items: [
                    {name:"name", type:"string", value: "template2"},
                    {name:"type", type:"string", value: "overview"},
                    {name:"form", type:"string", value: "<ul></ul>"}

                ]}
            ]}
        ]};
    </script>
</html>